## 单例模式

也叫做：单件模式、Singleton



### 概念

---

**单例模式**保证一个类只有一个实例，并提供一个访问该实例的全局节点。



### 针对场景

---

1、一个类只有一个实例

​	控制某些共享资源的访问权限。

​	如果创建了一个对象，下次再创建，得到的还是之前已经创建好的对象。

​	注意，普通构造函数无法实现上述行为，因为构造函数的设计决定了它必须返回一个新对象。

2、为该实例提供一个全局访问节点

​	和全局变量很像，很方便，但是不安全，因为任何代码都有可能覆盖掉那些变量的内容，从而引发程序崩溃。

​	单例模式也允许在程序的任何地方访问特定对象，这一点和全局变量一样。但是它可以保护该实例不被其他代码覆盖。

​	处理同一个问题的代码放在同一个类中，也一定比分散在程序各处要好。



### 设计思路

---

必须包含两点

- 将默认的构造函数设为私有，防止其他对象使用单例类的new运算符。
- 新建一个静态构建方法作为构造函数。该函数会“偷偷”调用私有构造函数来创建对象，并将其保存在一个静态成员变量中。此后所有对于该函数的调用都将返回这一缓存对象。

如果你的代码能够访问单例类， 那它就能调用单例类的静态方法。 无论何时调用该方法， 它总是会返回相同的对象。



