## CSS 权重

>  权重，是一个相对的概念，是针对某一指标而言。某一指标的权重是指该指标在整体评价中的相对重要程度。

> 权重系数，是表示某一指标项在指标项系统中的重要程度，它表示在其它指标项不变的情况下，这一指标项的变化，对结果的影响。

> css通过css选择器的权重占比，来计算css选择规则的总权值，从而确定 定义样式规则的 优先级次序；

> 好文章：https://www.cnblogs.com/cnblogs-jcy/p/8574177.html



### 权重清单

可以参考下面表格，比较直观一点：

|            类型             | 权重 |
| :-------------------------: | :--: |
|         ! important         | 无穷 |
|          行间样式           | 1000 |
|             id              | 100  |
| class/属性选择器/伪类:hover |  10  |
|   标签选择器/伪元素:after   |  1   |
|           通配符            |  0   |



### 权重举例

```css
01. *{}                         ====》0
02. li{}                        ====》1(一个元素)
03. li:first-line{}             ====》2(一个元素，一个伪元素)
04. ul li {}                    ====》2（两个元素）
05. ul ol+li{}                  ====》3（三个元素）
06. h1+ *[rel=up] {}            ====》11（一个属性选择器，一个元素）
07. ul ol li.red{}              ====》13（一个类，三个元素）
08. li.red.level{}              ====》21（两个类，一个元素）
09. style=""                    ====》1000(一个行内样式)
10. p {}                        ====》1（一个元素）
11. div p {}                    ====》2（两个元素）
12. .sith {}                    ====》10（一个类）
13. div p.sith{}                ====》12（一个类，两个元素）
14. #sith{}                     ====》100（一个ID选择器）
15. body #darkside .sith p {}   ====》112(1+100+10+1,一个Id选择器，一个类，两个元素)
16. style=""					====》1000（行内样式，内联样式）
17. 通用选择器（*）、子选择器（>）、相邻选择器（+）、同胞选择器（~）  权重为0

// **权值居然是二进制，不是十进制，涨姿势了**
第一等级：代表 内联样式，如 style=""，权值为 1000；

第二等级：代表 ID选择器，如 #id="", 权值为 0100；

第三等级：代表 calss | 伪类 | 属性 选择器，如 .class | :hover,:link,:target | [type], 权值 0010；

第四等级：代表 标签 | 伪元素 选择器，如 p | ::after, ::before, ::fist-inline, ::selection, 权值 0001；

此外，通用选择器（*），子选择器（>）， 相邻同胞选择器（+）等选择器不在4等级之内，所以它们的权值都为 0000；
```



### 优先级规则

1. css选择规则的权值不同时，权值高的优先；

2. css选择规则的权值相同时，后定义的规则优先；

3. css属性后面加 !important 时，无条件绝对优先；



### 权值计算

#### 权值计算公式

> 权值 = 第一等级选择器*个数，第二等级选择器*个数，第三等级选择器*个数，第四等级选择器*个数；

#### 权值比较 规则

> 当两个权值进行比较的时候，是从高到低逐级将等级位上的权重值（如 权值 1,0,0,0 对应--> 第一等级权重值，第二等级权重值，第三等级权重值，第四等级权重值）来进行比较的，而不是简单的 1000*个数 + 100*个数 + 10*个数 + 1*个数 的总和来进行比较的，换句话说，**低等级的选择器，个数再多也不会越等级超过高等级的选择器的优先级的**;【为什么这么特别强调呢，因为为在网上查资料的时候，看到好多博客是把这个权重值理解成了所有等级的数字之和了】
>
> 也就是说100*1 > 10 * 20，如果有更高等级的权值，低等级的再多也不行
>
> **先从高等级进行比较，高等级相同时，再比较低等级的，以此类推；**
>
> **完全相同的话，就采用 后者优先原则（也就是样式覆盖）；**

