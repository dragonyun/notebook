## 浏览器存储方式对比



### 现有可用存储方式

---

- 内存存储（通过代码模拟）
- `localstorage`
- `sessionstorage`
- `indexedDB`
- `webSQL`
- `cookie`



### 共性

---

内存存储不在这里共性中比较，因为它不是浏览器自带的。

- **同源限制** 都会为每个源创建一个存储区域，是隔离开的





### `cookie`

---

- 单个 cookie 推荐上限4KB ，单个域推荐上限 20 条cookie数据

- 过期时间取决于cookie的expires属性：不指定的话浏览器会话结束后即删除，指定的话即使浏览器关闭cookie也会保存在用户机器上，指定过去的时间会立即删除。
- cookie属性domain，path，samesite决定了cookie允许发给哪些URL。
- 跨页签，跨浏览器：在浏览器端，cookie不受不同页签，不同浏览器（指同一种浏览器开多个）的限制，数据都是可以访问到的。

> 最早出现的应该是cookie
>
> 为了客户端与服务器端相互交互时能正确识别对方的身份和权限。
>
> cookie也是通信过程中默认会带进请求中的。



### `localstorage`

---

永久存储。

同步操作。

同源限制。

存储空间在2.5M到10M之间（与浏览器有关）

跨页签，跨浏览器，都可以获取数据。

> cookie作为浏览器端的存储太小了，并且不希望和请求一起发到服务器端
>
> 为了浏览器端可以存储部分数据，分担服务器端的压力。
>
> localstorage不会随着浏览器的关闭而清除，是真的永久存储。



### `sessionstorage`

---

浏览器页签关闭时数据丢失。

同步操作。

同源策略限制。

单标签页限制。

只在本地存储。

键值对。

存储空间大约5M（与浏览器有关）

无法跨页签，无法跨浏览器

> 和localstorage目的类似
>
> 区别在于它的定位是 回话，只顾及当前页签，页签没了，数据就没了。



### `indexedDB`

---

异步操作。

支持事务。

同源限制。

存储空间很大，250M+，可以不考虑。

跨页签，跨浏览器

> 10M的存储还是太小了，希望不影响浏览器渲染，拥有数据库的特性
>
> 那么就有了这个异步操作的indexedDB



### 内存存储

---

同步操作。

程序关闭即丢失。

无法跨页签

> 纯粹是用代码来模拟一个数据库，或者可以看成一个全局变量。





### 参考文档

---

- 对比：`https://juejin.cn/post/6844903989096497159`